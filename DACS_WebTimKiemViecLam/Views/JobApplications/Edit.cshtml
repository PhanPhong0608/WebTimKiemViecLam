@model DACS_WebTimKiemViecLam.Models.JobApplication

@{
    ViewData["Title"] = "Cập nhật đơn ứng tuyển";
}

<h2 class="mb-4">@ViewData["Title"]</h2>

<form asp-action="Edit" method="post" class="container">
    @* Hidden Fields *@
    <input type="hidden" asp-for="ApplicationID" />
    <input type="hidden" asp-for="UserID" />
    <input type="hidden" asp-for="JobID" />
    <input type="hidden" asp-for="CVFilePath" />

    <div class="form-group row">
        <label class="col-sm-3 col-form-label">Người ứng tuyển</label>
        <div class="col-sm-9">
            <p class="form-control-plaintext">@Model.User?.FullName</p>
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-3 col-form-label">Vị trí tuyển dụng</label>
        <div class="col-sm-9">
            <p class="form-control-plaintext">@Model.JobPosition?.Title</p>
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-3 col-form-label">Đường dẫn CV</label>
        <div class="col-sm-9">
            @if (!string.IsNullOrEmpty(Model.CVFilePath))
            {
                <a class="btn btn-link" href="@Url.Content(Model.CVFilePath)" target="_blank">Xem CV</a>
            }
            else
            {
                <span class="text-muted">Chưa có CV</span>
            }
        </div>
    </div>

    <div class="form-group row">
        <label asp-for="Status" class="col-sm-3 col-form-label">Trạng thái</label>
        <div class="col-sm-9">
            <select asp-for="Status" class="form-control">
                <option value="Pending">Pending</option>
                <option value="Accepted">Accepted</option>
                <option value="Rejected">Rejected</option>
            </select>
            <span asp-validation-for="Status" class="text-danger"></span>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-9 offset-sm-3">
            <button type="submit" class="btn btn-success">Lưu</button>
            <a asp-action="Index" class="btn btn-secondary">Hủy</a>
        </div>
    </div>
</form>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}
